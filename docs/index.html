<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>ull-esit-inf-dsi-22-23-prct11-http-express-funko-app-eva-martinez</title><meta name="description" content="Documentation for ull-esit-inf-dsi-22-23-prct11-http-express-funko-app-eva-martinez"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/search.js" id="tsd-search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<div class="field">
<div id="tsd-toolbar-links"></div></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">ull-esit-inf-dsi-22-23-prct11-http-express-funko-app-eva-martinez</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-content">
<div class="tsd-page-title">
<h2>ull-esit-inf-dsi-22-23-prct11-http-express-funko-app-eva-martinez</h2></div>
<div class="tsd-panel tsd-typography"><p><a href="https://classroom.github.com/a/8eRVZXt4"><img src="https://classroom.github.com/assets/deadline-readme-button-24ddc0f5d75046c5622901739e7c5dd533143b0c8e959d652212380cedb1ea36.svg" alt="Review Assignment Due Date"></a></p>
<a id="md:informe-realizado-por-eva-martínez-bencomo" class="tsd-anchor"></a><h3><a href="#$informe-realizado-por-eva-martínez-bencomo" style="color:inherit;text-decoration:none">Informe realizado por Eva Martínez Bencomo</a></h3><p>En este informe se redactan las pautas seguidas para la realización de la práctica 9 de la asignatura <em>Desarrollo de Sistemas Informáticos</em>.</p>
<a id="md:actividades-previas" class="tsd-anchor"></a><h1><a href="#$actividades-previas" style="color:inherit;text-decoration:none">Actividades Previas</a></h1><p>Se procedió a la aceptación de la tarea en el <em>GitHub Classroom</em>.</p>
<p>Ahora nos encontramos con tres <em>badges</em> los cuales representan el éxito los <strong>Tests</strong> realizados, la herramienta <strong>Coveralls</strong> y <strong>Sonar-Cloud</strong>.</p>
<p><a href="https://github.com/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct11-http-express-funko-app-Eva-Martinez/actions/workflows/tests.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct11-http-express-funko-app-Eva-Martinez/actions/workflows/tests.yml/badge.svg?branch=main" alt="Tests"></a>
<a href="https://github.com/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct11-http-express-funko-app-Eva-Martinez/actions/workflows/coveralls.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct11-http-express-funko-app-Eva-Martinez/actions/workflows/coveralls.yml/badge.svg?branch=main" alt="Coveralls"></a>
<a href="https://github.com/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct11-http-express-funko-app-Eva-Martinez/actions/workflows/sonarcloud.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct11-http-express-funko-app-Eva-Martinez/actions/workflows/sonarcloud.yml/badge.svg?branch=main" alt="Sonar-Cloud"></a></p>
<a id="md:ejercicio" class="tsd-anchor"></a><h1><a href="#$ejercicio" style="color:inherit;text-decoration:none">Ejercicio</a></h1><a id="md:fichero-funko-type" class="tsd-anchor"></a><h2><a href="#$fichero-funko-type" style="color:inherit;text-decoration:none">Fichero Funko Type</a></h2><p>Esta fichero contiene los tipos <code>FunkoPop</code>, el cual permite la creación de objetos de tipo <strong>FunkoPop</strong> que contienen los atributos:</p>
<ul>
<li><code>id</code>: Identificador del Funko.</li>
<li><code>nombre</code>: Nombre del Funko.</li>
<li><code>descripcion</code>: Descripción del Funko.</li>
<li><code>tipo</code>: Tipo del Funko.</li>
<li><code>genero</code>: Género del Funko. </li>
<li><code>franquicia</code>: Franquicia del Funko.</li>
<li><code>numero</code>: Número del Funko.</li>
<li><code>exclusivo</code>: Condición exclusivo del Funko.</li>
<li><code>caracteristicas_especiales</code>: Características Especiales del Funko.</li>
<li><code>valor_mercado</code>: Valor de mercado del Funko.</li>
</ul>
<p>Y <code>ResponseType</code>, el cual contiene los atributos:</p>
<ul>
<li><code>success</code>: Éxito de la operación.</li>
<li><code>funkoPops</code>: Conjunto o único elemento <em>FunkoPop</em> (Opcional).</li>
</ul>
<a id="md:fichero-funko-app" class="tsd-anchor"></a><h2><a href="#$fichero-funko-app" style="color:inherit;text-decoration:none">Fichero Funko App</a></h2><p>Este fichero contiene las funciones utilizadas en los diferentes parámetros de petición:</p>
<ul>
<li><code>post</code>: Añadir un Funko a una colección, revisando por una parte que el usuario exista para así poder invocar a su función correspondiente, o bien que no exista y por lo tanto lo cree y llame a dicha función.</li>
<li><code>patch</code>: Modificar un Funko de una colección de un usuario específico, revisando por una parte que el usuario exista para así poder invocar a su función correspondiente, o bien que no exista y por lo tanto muestre un mensaje de error.</li>
<li><code>delete</code>: Eliminar un Funko de una colección de un usuario específico, revisando por una parte que el usuario exista para así poder invocar a su función correspondiente, o bien que no exista y por lo tanto muestre un mensaje de error.</li>
<li><code>get</code>: Lista una colección de un usuario específico o un único funko de dicha colección, revisando por una parte que el usuario exista para así poder invocar a su función correspondiente, o bien que no exista y por lo tanto muestre un mensaje de error.</li>
</ul>
<p>Dichas funciones son las siguientes:</p>
<ul>
<li><code>AñadirFunko()</code>:</li>
</ul>
<p>La funcionalidad de la misma es crear un objeto <code>FunkoPop</code> y añadirlo en formato <em><strong>JSON</strong></em> a la colección, para ello en primer lugar se verifica que el id del funko a insertar sea diferente de los ya existentes en la colección mediante la función <strong>ExisteFunko()</strong>. Si existe un funko con dicho id se retornará <em>false</em> para indicar así que se debe enviar un mensaje de error, pero si no se creará el objeto <code>FunkoPop</code>, se instanciará la ruta de la base de datos para poder así crear el fichero <em>JSON</em> y se creará dicho fichero mediante la API síncrona <strong><code>writeFileSync(rutaFichero, JSON.stringify(funko))</code></strong>. Como se puede apreciar se inserta dicha ruta mencionada anteriormente y como valor el objeto <code>FunkoPop</code> convertido en formato <em>JSON</em>, y por último se retornará <em>true</em> indicando que el funko se ha agregado correctamente para así enviar un mensaje informativo.</p>
<ul>
<li><code>EliminarFunko()</code>:</li>
</ul>
<p>La funcionalidad de la misma es eliminar un funko de la colección del usuario insertado, para ello en primer lugar se verifica que el id del funko a insertar exista en la colección mediante la función <strong>ExisteFunko()</strong>. Si existe un funko con dicho id se procederá a la examinación de la base de datos, específicamente del usuario mediante la API síncrona <strong><code>readdirSync(${ruta}/${usuario})</code></strong>. A continuación se realizará un <em>for-of</em> de los elementos obtenidos con dicha API síncrona, sobre los cuales se procederá a la lectura del contenido de los mismo mediante <strong><code>readFileSync(archivo, &#39;utf-8&#39;)</code></strong>, y con este contenido obtenido gracias a dicha lectura se procederá convertir los datos de tipo <em>JSON</em> en un <em>string</em> para obtener así su id <strong>json.id</strong>. </p>
<p>En cada iteración se comparará dicho id con el id del funko a eliminar, y si coinciden se establecerá la ruta del fichero a eliminar como la utilizada para obtener ese id, y por último se utilizará para la supresión del fichero la API síncrona <strong><code>unlinkSync(rutaArchivo)</code></strong> seguido de retornar <em>true</em> indicando que el funko se ha eliminado correctamente para así enviar un mensaje informativo. Pero si no existiese dicho funko se retornará <em>false</em> para indicar así que se debe enviar un mensaje de error.</p>
<ul>
<li><code>ModificarFunko()</code>:</li>
</ul>
<p>La funcionalidad de la misma es modificar un funko de la colección del usuario seleccionado, para ello en primer lugar se verifica que el id del funko a modificar sea diferente de los ya existentes en la colección mediante la función <strong>ExisteFunko()</strong>. Si existe un funko con dicho id se eliminará de la colección, mediante la función <code>EliminarFunko()</code>, se agregará a la colección el funko modificado, mediante la función <code>AñadirFunko()</code>, y se retornará <em>true</em> indicando que el funko se ha modificado correctamente para así enviar un mensaje informativo. Pero si no existe el funko se retornará <em>false</em> para indicar así que se debe enviar un mensaje de error.</p>
<ul>
<li><code>ListarColeccionFunkos()</code>:</li>
</ul>
<p>La funcionalidad de la misma es listar la colección de funkos del usuario seleccionado, para ello en primer lugar se examinará la base de datos, específicamente del usuario mediante la API síncrona <strong><code>readdirSync(${ruta}/${usuario})</code></strong>. A continuación se realizará un <em>for-of</em> de los elementos obtenidos con dicha API síncrona, sobre los cuales se procederá a la lectura del contenido de los mismo mediante <strong><code>readFileSync(archivo, &#39;utf-8&#39;)</code></strong>, y con este contenido obtenido gracias a dicha lectura se procederá convertir los datos de tipo <em>JSON</em> en un <em>string</em> para obtener así los diferentes atributos del json utilizados en combinación con el tipo <em>FunkoPop</em> para la creación de un objeto del mismo, el cual se añadirá a un vector de dicho tipo <em>FunkoPop</em> que será el retornado en el mensaje informativo al usuario.</p>
<ul>
<li><code>EnseñarFunko()</code>:</li>
</ul>
<p>La funcionalidad de esta es mostrar la información de un funko de la colección de un usuario específico, para ello se realiza una combinación entre <em><code>EliminarFunko()</code></em> y <em><code>ListarColeccionFunkos()</code></em> ya que extrae el id comparandolo con el insertado, si se cumple dicha condición se realizará el retorno de los datos del funko mediante un objeto de tipo <em>FunkoPop</em>. En función de la existencia del funko en la colección se mostrará un mensaje informativo o un mensaje de error.</p>
<p>Por último cabe destacar el uso de las funciones de comprobación o creación de elementos principales, junto con la inicialización del servidor de la aplicación el cual utiliza los diferentes argumentos nombrados anteriormente seguido del uso de las respectivas funciones y retornando en cada acción un mensaje en formato <strong>JSON</strong> de tipo <em>ResponseType</em>:</p>
<ul>
<li><code>ExisteUsuario()</code>:</li>
</ul>
<p>La funcionalidad de esta es comprobar si el usuario existe, para ello se realiza la lectura de los usuarios de la base de datos mediante la API síncrona <strong><code>readdirSync(ruta)</code></strong>. A continuación se realizará un <em>for-of</em> de los elementos obtenidos con dicha API síncrona, sobre los cuales se procederá a extraer sus datos con <strong><code>statSync(${ruta}/${elemento})</code></strong> los cuales se utilizarán para comprobar si es un directorio mediante el método <em>isDirectory()</em> y que se nombre sea igual al del usuario a comprobar. Si se cumplen estas condiciones de retornará <em>true</em>, pero si tras las iteraciones no coinciden se retornará <em>false</em> para indicar así que se debe enviar un mensaje de error.</p>
<ul>
<li><code>ExisteFunko()</code>:</li>
</ul>
<p>La funcionalidad de esta es comprobar si el funko con dicha id existe en la colección del usuario determinado, para ello se utiliza la misma funcionalidad que para <em><code>EliminarFunko()</code></em> pero si coinciden los ids se retornará <em>true</em> indicando así que existe el funko, sino se retornará <em>false</em> para indicar así que se debe enviar un mensaje de error.</p>
<ul>
<li><code>CrearUsuario()</code>:</li>
</ul>
<p>La funcionalidad de esta es crear a un usuario, para ello se hará uso de la API síncrona <strong><code>mkdirSync(${ruta}/${usuario}, { recursive: true })</code></strong> la cual en primer lugar contiene la ruta a crear, y en segundo lugar la opción <code>recursive</code> activada para permitir así la creación de directorios padre.</p>
<a id="md:conclusiones" class="tsd-anchor"></a><h1><a href="#$conclusiones" style="color:inherit;text-decoration:none">Conclusiones</a></h1><p>Todo el ejercicio se ha realizado de manera adecuada a excepción de los tests, los cuales no se han realizado y por lo tanto no pasan correctamente los <em>badges</em>.</p>
</div></div>
<div class="col-sidebar">
<div class="page-menu">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg>Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg>On This Page</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li>
<ul>
<li><a href="#md:informe-realizado-por-eva-martínez-bencomo"><span>Informe realizado por <wbr/>Eva <wbr/>Martínez <wbr/>Bencomo</span></a></li>
<li><a href="#md:actividades-previas"><span>Actividades <wbr/>Previas</span></a></li>
<li><a href="#md:ejercicio"><span>Ejercicio</span></a></li>
<li>
<ul>
<li><a href="#md:fichero-funko-type"><span>Fichero <wbr/>Funko <wbr/>Type</span></a></li>
<li><a href="#md:fichero-funko-app"><span>Fichero <wbr/>Funko <wbr/>App</span></a></li></ul></li>
<li><a href="#md:conclusiones"><span>Conclusiones</span></a></li></ul></li></ul></div></details></div>
<div class="site-menu">
<nav class="tsd-navigation"><a href="index.html" class="current"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-namespace)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-4-path"></rect><path d="M9.33 16V7.24H10.77L13.446 14.74C13.43 14.54 13.41 14.296 13.386 14.008C13.37 13.712 13.354 13.404 13.338 13.084C13.33 12.756 13.326 12.448 13.326 12.16V7.24H14.37V16H12.93L10.266 8.5C10.282 8.692 10.298 8.936 10.314 9.232C10.33 9.52 10.342 9.828 10.35 10.156C10.366 10.476 10.374 10.784 10.374 11.08V16H9.33Z" fill="var(--color-text)" id="icon-4-text"></path></svg><span>ull-<wbr/>esit-<wbr/>inf-<wbr/>dsi-<wbr/>22-<wbr/>23-<wbr/>prct11-<wbr/>http-<wbr/>express-<wbr/>funko-<wbr/>app-<wbr/>eva-<wbr/>martinez</span></a>
<ul class="tsd-small-nested-navigation">
<li><a href="modules/funkoapp.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-4-path"></use><use href="#icon-4-text"></use></svg><span>funkoapp</span></a></li>
<li>
<details class="tsd-index-accordion" data-key="funkotypes"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg><a href="modules/funkotypes.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-4-path"></use><use href="#icon-4-text"></use></svg><span>funkotypes</span></a></summary>
<div class="tsd-accordion-details">
<ul class="tsd-nested-navigation">
<li><a href="types/funkotypes.FunkoPop.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-type-alias)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-4194304-path"></rect><path d="M11.31 16V8.224H8.91V7.24H14.79V8.224H12.39V16H11.31Z" fill="var(--color-text)" id="icon-4194304-text"></path></svg><span>Funko<wbr/>Pop</span></a></li>
<li><a href="types/funkotypes.ResponseType.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-4194304-path"></use><use href="#icon-4194304-text"></use></svg><span>Response<wbr/>Type</span></a></li></ul></div></details></li></ul></nav></div></div></div>
<div class="tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div></body></html>